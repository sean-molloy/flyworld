// room script file

function toggleEyebrows()
{
  if(oJohnBrows.Frame == 3)
  {
    oJohnBrows.Animate(0, 5, eOnce, eNoBlock, eBackwards);
  } else {
    oJohnBrows.Animate(0, 5, eOnce, eNoBlock, eForwards);    
  }  
}

function JMSay(String johnSays)
{
  cJohnsMouth.SayAt(260, 45, 100, johnSays);
}

function room_AfterFadeIn()
{
  WaitSeconds(1.0);
  JMSay("Hello, Abigail.");
  WaitSeconds(0.2);
  JMSay("I need to inform you about a few changes which are happening here at Omnichron.");
  toggleEyebrows();
  JMSay("You are being transferred.");
  toggleEyebrows();
  WaitSeconds(0.5);
  JMSay("This is just sample dialogue for testing lip sync.");
  JMSay("Seems like it's working pretty well...");
  WaitSeconds(1.4);  
  JMSay("But it would be better if the framerate was lower.");
  toggleEyebrows();
  JMSay("I hope that there is a way to do this?");  
  toggleEyebrows();
  WaitSeconds(3.0);
  toggleEyebrows();
  JMSay("This is just sample dialogue for testing lip sync.");
}

function room_Load()
{
  SetGameOption(OPT_LIPSYNCTEXT, 1);
  oJohnBrows.SetView(10, 0, 0);
  game.lipsync_speed = 7;
  game.text_speed = 7;
}

function room_Leave()
{
  SetGameOption(OPT_LIPSYNCTEXT, 0);
}
