// new module script

function bothSayAt(const string abiSay, const string paulSay, CharacterDirection direction, int waitLoops)
{          
  cPaul.FaceDirection(direction, eNoBlock); 
  cAbi.FaceDirection(direction, eNoBlock);
    Wait(30);    
  cPaul.LockView(cPaul.SpeechView);
  cAbi.LockView(cAbi.SpeechView);
  cPaul.Animate(cPaul.Loop, 5, eRepeat, eNoBlock, eForwards, 1);
  cAbi.Animate(cAbi.Loop, 5, eRepeat, eNoBlock, eForwards, 1);
  cAbi.SayBackground(abiSay);
  cPaul.SayBackground(paulSay);
    WaitMouseKey(waitLoops);
  cPaul.UnlockView(eStopMoving);
  cAbi.UnlockView(eStopMoving);
  
}

function bothSayToEachOther(const string abiSay, const string paulSay, int loops)
{     //have an alt function for saying at each other?
      //default to face the screen    
  if(cPaul.Room == cAbi.Room)
  {
    cPaul.FaceCharacter(cAbi, eNoBlock);
    cAbi.FaceCharacter(cPaul, eNoBlock);    
      Wait(30);
    cPaul.LockView(cPaul.SpeechView);
    cAbi.LockView(cAbi.SpeechView);
    cPaul.Animate(cPaul.Loop, 5, eRepeat, eNoBlock, eForwards, 1);
    cAbi.Animate(cAbi.Loop, 5, eRepeat, eNoBlock, eForwards, 0);
    cAbi.SayBackground(abiSay);
    cPaul.SayBackground(paulSay);
      WaitMouseKey(loops); 
    cPaul.UnlockView(eStopMoving);
    cAbi.UnlockView(eStopMoving);
  }    
}


function lookAbiPaul(const string abiSay, const string paulSay)
{
  if(IsPlayerAbi)
  {
    player.Say(abiSay);
  } else {
    player.Say(paulSay);
  }
}

function displayInvLook(const string abiSay, const string paulSay)
{
    if(IsPlayerAbi){
      DisplayAtY(150, abiSay);
    } else {
      DisplayAtY(150, paulSay);
    }
}

function tooFar(){
  if(IsPlayerAbi){
    player.Say("I'm not close enough!");
  } else {
    player.Say("Cant...Reach...");
    
  }
}

function cantTake(int howMany){
  if( howMany == 1 )
  {
    if(IsPlayerAbi)
    {
      switch(Random(1))
      {
        case 0:
          player.Say("As much as I want to pick that up and carry it around with me,");
          player.Say("I just don't have the pockets for it.");
        break;        
        case 1:
          player.Say("It's too big!");
          if(cAbi.Room==cPaul.Room){            
            cPaul.Say("That's what she said!");
            cAbi.FaceCharacter(cPaul);
            player.Say("Ugh...");
          }
        break;      
      }
    } else {
      player.Say("I couldn't possibly take that!");
    }
    
  } else if ( howMany == 2 ){
    if(IsPlayerAbi)
    {
      player.Say("I can't take them.");
    } else {
      player.Say("Take those?");
      cPaul.angry();
      player.Say("That's preposterous.");
      cPaul.cool();
    } 
  } else {
    lookAbiPaul("That's not the kind of thing anyone could take.", 
                "That's more like a concept then a physical thing one can pick up and carry around with them.");
  }
}

function cantTakePerson(bool himNotHer)
{
  if(himNotHer)
  {
    lookAbiPaul("He's too heavy.", "I don't think he wants a piggy-back ride.");
  } else {
    lookAbiPaul("She's too heavy.", "I don't think she wants a piggy-back ride.");
  }
}

function fuckAnyone(int itZeroSheOneHeTwo,  bool fancyThem)
{
  if(fancyThem)
  {
    switch(itZeroSheOneHeTwo)
    {
      case 1:
        lookAbiPaul("She's got it going on!", 
                    "She seems nice. I wonder if she's single?");
      break;
      case 2:
        lookAbiPaul("He's kind of alright.", 
                    "He's pretty cute, but I should probably get to know him first!");
      break;    
      default:
        lookAbiPaul("I'd tap that.", 
                    "Hmmm, if the time was right, maybe I would.");
      break;
    }
  } else {
    switch(itZeroSheOneHeTwo)
    {    
      case 1:
        lookAbiPaul("She's cute, but not really my type.",
                    "Ah...I'm just not that into her.");
      break;
      case 2:
        lookAbiPaul("Ew. No.",
                    "Maybe after a few beers?");
      break;    
      default:
        lookAbiPaul("Um... Not my kind of thing.",
                    "It doesn't inspire me.");
      break;
    }
  }
}

function notThere()
{  
  lookAbiPaul("Ew, not there!", "That's not the best place for it.");
}

function moveDontUse()
{
  player.Say("To me a door is the kind of thing you 'open' or 'close', that being a kind of movement.");
  player.Say("Perhaps if I were to 'move' the door instead?");
}

function noMoving()
{
  if(IsPlayerAbi)
  {
    player.Say("It won't budge.");
  } else {
    player.Say("That is pretty unmovable.");
  }
}

function noUsing()
{
  if(IsPlayerAbi)
  {
    player.Say("I don't know what to use it for.");
  } else {
    player.Say("Not sure that it's something I can turn on or use or whatever.");
  }
}

function wontWork()
{
  if(IsPlayerAbi)
  {
    player.Say("I can't say that's gonna work.");
  } else {
    player.Say("Hmmm...");
    player.Say("I reckon that'll won't work at all.");
  }
}

function noTalking()
{
  lookAbiPaul("I've got plenty of real people to talk to!",
              "I don't see the point in talking to an inanimate thing.");
}