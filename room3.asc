// room script file

function region1_WalksOnto()
{
  player.ChangeRoom(eRooms_FlatKitchen, player.x, player.y);
}

function region2_WalksOnto()
{
  int remX = player.x + 309;
  int remY = player.y; 
  
  player.ChangeRoom(eRooms_FlatHallway,  remX,  remY);
}

function changePlayerTime(){
    characterChange = false;
    int otherOne = whichRoomIsOtherOne();
   
    resumeMusicAfterCHCH(aFlat_theme);
    if(otherOne == 2){
      Game.Camera.SetAt(97,  0);
          oFence.X=90;
     // oHouse.X=130;
      oClouds.X=32;
    } else {
      Game.Camera.SetAt(0,  0);
    }
  }

function room_Load()
{ 
  changePlayerLocaleOnRoomEnter();
  adjustPhoneVolumeWhilstRinging();
  resumeMusicAfterCHCH(aFlat_theme);
  if(characterChange){
    changePlayerTime();
    
    
  } else {
    if(player.PreviousRoom == eRooms_FlatKitchen){
      Game.Camera.SetAt(97,  0);
      
      oFence.X=83;
     // oHouse.X=130;
      oClouds.X=-10;
    } else {
      Game.Camera.SetAt(0, 0);
    }
  } 
}

function room_AfterFadeIn()
{
  if(Game.Camera.X != 0){    
    Game.Camera.TweenPosition(1.1,  0,  0,  eEaseInOutSineTween, eNoBlockTween);
    oClouds.TweenX(1.1, -18, eEaseInOutSineTween, eNoBlockTween);
    oFence.TweenX(1.1, 80, eEaseInOutSineTween, eNoBlockTween);
    //oHouse.TweenX(1.1, 110, eEaseInOutSineTween, eNoBlockTween);
  }   
  followStand(181, 118);
  if(followed){
    int otherPlayer = whichRoomIsOtherOne();
  if( otherPlayer == 2 )
    {    
      followFrom(256, 170, 1);
    } else {
      followFrom(173, 194, 5);
    }
  }
  followMe(3);
}



function hHallExit_AnyClick()
{
  switch (verbUsed)
  {
    case 0: //walk
      player.Walk(174, 195);
    break;
    case 1://look
      lookAbiPaul("That way back to the hall!", 
                  "The hallway is through there.");
    break;
    case 2://use
      noUsing();
    break;
    case 3://talk
      noTalking();
    break;
    case 4://move
      noMoving();
    break;
    case 5://fourletters
      fuckAnyone();
    break;
    case 6://take
      cantTake();
    break;
    case 7://inv
      wontWork();
    break;
  }
}


function hKitchenExit_AnyClick()
{
  switch (verbUsed)
  {
    case 0: //walk
      player.Walk(260, 169);
    break;
    case 1://look
      lookAbiPaul("That way to the kitchen!", 
                  "The kitchen is through there.");
    break;
    case 2://use
      noUsing();
    break;
    case 3://talk
      noTalking();
    break;
    case 4://move
      noMoving();
    break;
    case 5://fourletters
      fuckAnyone();
    break;
    case 6://take
      cantTake();
    break;
    case 7://inv
      wontWork();
    break;
  }
}

function hRedCouch_AnyClick()
{
  switch (verbUsed)
  {
    case 0: //walk
      walkToAndFace(109, 155, eDirectionLeft, 100, 168);            
    break;
    case 1://look
      lookAbiPaul("This old red couch is not as comfortable as it looks.", 
                  "Dad slept on this couch every single night of my parents marriage.");
    break;
    case 2://use
      player.angry();
      player.Say("sit in the couch.");
    break;
    case 3://talk
      
      noTalking();
    break;
    case 4://move
    
      lookAbiPaul("I probably could push this couch, but I won't.", 
                  "Nah... I can't be bothered pushing the couch.");
    break;
    case 5://fourletters
      if(IsPlayerAbi)
      {
        fuckAnyone();
      } else {
      fuckAnyone(0, true);
      }
    break;
    case 6://take
      cantTake();
    break;
    case 7://inv
      wontWork();
    break;
  }
}

function hgreenCouch_AnyClick()
{
  switch (verbUsed)
  {
    case 0: //walk
      walkToAndFace(176, 155, eDirectionUp, 204, 155);
      //player.Walk(176, 152);
    break;
    case 1://look
      lookAbiPaul("This saggy old green couch is far more comfortable than it looks!", 
                  "I bought this couch on trademe for $7.20!");
    break;
    case 2://use
      //player.Say("sit on the couch.");
      bothSayToEachOther("FOOD!","BOOZE!");
    break;
    case 3://talk
      
      player.Say(String.Format("Paul's mum's number is %s! And don't forget it!"), PHpaulsMum);
     // noTalking();
    break;
    case 4://move
      lookAbiPaul("I don't want to rearrange the furniture.", 
                  "There's no reason to push the couch.");
    break;
    case 5://fourletters
      fuckAnyone();
    break;
    case 6://take
      cantTake();
    break;
    case 7://inv
      wontWork();
    break;
  }
}

function hTelevision_AnyClick()
{
  switch (verbUsed)
  {
    case 0: //walk
      walkToAndFace(123, 170, eDirectionDown, 148, 170);
      //player.Walk(133, 170);
    break;
    case 1://look
      lookAbiPaul("I've had this TV for ages.", 
                  "Good old television.");
    break;
    case 2://use
      player.Say("turn on TV");
    break;
    case 3://talk
      noTalking();//different response when tv is turned on
    break;
    case 4://move
      noMoving();
    break;
    case 5://fourletters
      fuckAnyone();
    break;
    case 6://take
      cantTake();
    break;
    case 7://inv
      wontWork();
    break;
  }
}

function hWindow_AnyClick()
{
switch (verbUsed)
  {
    case 0: //walk
      walkToAndFace(165, 116, eDirectionUp,195, 116);          
    break;
    case 1://look
      lookAbiPaul("What a beautiful day/night", "Nice day/night");
    break;
    case 2://use
      noUsing();
    break;
    case 3://talk
      noTalking();
    break;
    case 4://move
      noMoving();
    break;
    case 5://fourletters
      fuckAnyone();
    break;
    case 6://take
      cantTake();
    break;
    case 7://inv
      wontWork();
    break;
  }
  verbUsed = 0;

}
