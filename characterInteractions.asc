// All Character Interactions




function char_Paul_interact()
{
  String sayThis = String.Format("distance is %d", cPaul.distanceToCharacter(cFlies));
  Display(sayThis);
 switch (verbUsed)
  {
    case 0: //walk
      if(IsPlayerAbi)
      {
        player.Walk( cPaul.x +10 , cPaul.y + 5  );        
      } else {
        player.Walk( mouse.x + Game.Camera.X, mouse.y + 5 + Game.Camera.Y );
      }
    break;
    case 1://look
     if(IsPlayerAbi){
      player.FaceCharacter(cPaul);
      player.Say("That's Paul.");
    }else{
      if(zoomedOut){
      player.Say("I'm looking good today.");
      } else {
        cPaul.showHealth();
      }
    }
    break;
    case 2://use
      if(IsPlayerAbi)
      {
        switchProtagonist();
      } else {
        player.Say("Use me!");
      }
    break;
    case 3://talk
    if(IsPlayerAbi)
    {
     dAbiToPaul.Start();
    } else
    {
      switch(Random(3)){
        case 0:
        StartCutscene(eSkipESCOrRightButton);
        player.Say("How am I doing, me?");
        player.Say("Not so good, not so good.");
        player.Say("Yeah...");
        player.Say("I know.");
        WaitMouseKey(20);
        player.Say("*sigh*");
        EndCutscene();
        break;
        case 1:
        player.Say("Why do I do these things?");
        break;
        case 2:
        player.Say("*sigh*");
        break;
        case 3:
        player.Say("Hello?");
        break;
      }
    }
    break;
    case 4://move
      lookAbiPaul("He's gotta learn to push himself at some stage.",
                  "Dancing time.");
    break;
    case 5://fourletters
      if(IsPlayerAbi)
      {
        StartCutscene(eSkipESCOrRightButton);
        cAbi.awkward();
        player.Say("Nah... We don't do that.");
        cAbi.cool();
        cPaul.FaceCharacter(cAbi);
        cPaul.Say("Do what?");
        cAbi.FaceCharacter(cPaul);
        WaitMouseKey(50);
        player.Say("It."); //FUck?
        WaitMouseKey(120);
        cPaul.angry();
        cPaul.Say("Huh.");
        WaitMouseKey(30);
        cPaul.Say("Yeah, I didn't say anything!");
        cPaul.cool();
        EndCutscene();
      } else {
        player.Say("Maybe later...");
      }
    break;
    case 6://take
      if(IsPlayerAbi)
      {
      cantTakePerson();
      } else {
        player.Say("It's not the right place to take off my clothes.");
      }
    break;
    case 7://inv
    if(player.ActiveInventory == iPills){
      if(IsPlayerAbi)
      {       
        player.Say("Here you go!");
        player.LoseInventory(iPills);
        cPaul.AddInventory(iPills);
      } else {
        player.Say("yum yum, now I feel much better!");
      }
    } else if (player.ActiveInventory == iPaulsCard){
      if(IsPlayerAbi)
      {
        cAbi.Say("Hey Paul, here's your eftpos card!");
        cPaul.Say("Thanks!");
        cAbi.LoseInventory(iPaulsCard);
        cPaul.AddInventory(iPaulsCard);      
      } else {
        cPaul.Say("Surprisingly flavoursome.");
      }
    } else if (player.ActiveInventory == iAbiCard){
    if(IsPlayerAbi)
    {
      StartCutscene(eSkipESCOrRightButton);
      cAbi.FaceCharacter(cPaul);
      cAbi.Say("You can use my eftpos card,");
      cPaul.FaceCharacter(cAbi);
      cAbi.Say("But give it straight back!");
      cPaul.Say("Okay!");
      cAbi.LoseInventory(iAbiCard);
      cPaul.AddInventory(iAbiCard);
      EndCutscene();
    } else {
      cPaul.Say("It tastes clean.");
    } 
    } else if (player.ActiveInventory == iTypewriter){
      if(IsPlayerAbi)
      {
        StartCutscene(eSkipESCOrRightButton);
        cAbi.FaceCharacter(cPaul);
        cAbi.Say("Hey thanks for borrowing me your typewriter.");
        cPaul.angry();
        cPaul.Say("I LENT you my typewriter.");
        cPaul.cool();
        cAbi.awkward();
        cAbi.Say("Yeah... Thanks.");
        cAbi.cool();
        cAbi.LoseInventory(iTypewriter);
        cPaul.AddInventory(iTypewriter);
        EndCutscene();
      } else {
        cPaul.Say("If I'm gonna do any typing, I'm gonna need to put this down somewhere.");
      }
    }
    break;
  }
  verbUsed = 0;
}

function char_Abi_interact()
{    
 switch (verbUsed)
  {
    case 0: //walk
       if(IsPlayerAbi)
      {
        player.Walk( mouse.x + Game.Camera.X, mouse.y + 5 + Game.Camera.Y );
      } else {
        player.Walk( cAbi.x + 10, cAbi.y + 5 );        
      }
    break;
    case 1://look
       if(IsPlayerAbi){
     if(zoomedOut){
       player.Say("I can't really see myself without a mirror.");
       //should there be another function which tells the player the location?
     } else {
      cAbi.showHealth();
     }
    }else{
      player.FaceCharacter(cAbi, eBlock);
      player.Say("That's Abi.");
    }
    break;
    case 2://use
      if(IsPlayerAbi)
      {
        player.Say("I think I am using myself already?");
      } else {
        switchProtagonist();
      }
    break;
    case 3://talk
      if(IsPlayerAbi)
  {
    switch(Random(3)){
      case 0:
        player.Say("You got this, Abigail!");
      break;
      case 1:
        player.Say("Looking good!");
      break;
      case 2:
        player.Say("It's all gonna be okay.");
      break;
      case 3:
        player.Say("Relax!");
      break;
    }
  } else {
    dPaulToAbi.Start();
  }
    break;
    case 4://move
        lookAbiPaul("It's dancing time.","I don't think I could move her");
    break;
    case 5://fourletters
      if(IsPlayerAbi)
      {
        player.awkward();
        player.Say("Let's get some candles, draw a bath, chuck on some enya and I'll have a go.");
        player.cool();
      } else {
        StartCutscene(eSkipESCOrRightButton);
        player.FaceDirection(eDirectionDown);
        player.Say("I reckon we're kind of like brother and sister.");
        cAbi.FaceCharacter(cPaul);
        cAbi.Say("What?");
        player.Say("Um, you know...");
        WaitMouseKey(40);
        player.FaceCharacter(cAbi);
        player.Say("Like how we're not really 'into' each other?");
        WaitMouseKey(50);
        cAbi.Say("Ah...");
        WaitMouseKey(100);
        cAbi.Say("Yeah...");
        EndCutscene();
      }
    break;
    case 6://take
      if(IsPlayerAbi)
      {
        player.Say("This is not the time of place to take my clothes off!");
      } else {
        cantTakePerson(false);
      }
    break;
    case 7://inv
    if(player.ActiveInventory == iPills){
    if(IsPlayerAbi)
      {
        player.Say("Ew, no way!");
      } else {          
        player.Say("Here you go!");
        player.LoseInventory(iPills);
        cAbi.AddInventory(iPills);
        cAbi.Say("Thanks!");
        cAbi.awkward();
        cAbi.Say("I guess...");
        cAbi.cool();
      }
  } else if (player.ActiveInventory == iKeyCard)
  {
    if(IsPlayerAbi)
    {
      player.Say("I don't need to unlock myself.");
    } else {
      StartCutscene(eSkipESCOnly);
      cPaul.FaceCharacter(cAbi, eBlock);
      cPaul.Say("Hey Abi!");
      cAbi.FaceCharacter(cPaul, eBlock);
      cAbi.Say("Uh huh?");
      cPaul.Say("Here's the key-card back!");
      cAbi.Say("Oh yeah.");
      cAbi.Say("Thanks!");
      EndCutscene();
    }
  } else if (player.ActiveInventory == iPaulsCard) 
  {
    if(IsPlayerAbi)
    {
      cAbi.Say("I'm not doing anything weird with Paul's eftpos card.");
      cAbi.Say("It smells bad.");
    } else {
      cPaul.Say("Hey Abi, take my eftpos card!");
      cAbi.awkward();
      cAbi.Say("Thanks, you shouldn't have.");
      cAbi.cool();
      cPaul.LoseInventory(iPaulsCard);
      cAbi.AddInventory(iPaulsCard);
    }
  
  } else if (player.ActiveInventory == iAbiCard) {
    if(IsPlayerAbi)
    {
      cAbi.Say("I wish I could pay myself.");
    } else {
      cPaul.Say("Here's your card back!");
      cAbi.Say("Cheers.");
      cPaul.LoseInventory(iAbiCard);
      cAbi.AddInventory(iAbiCard);
    }
  } else if (player.ActiveInventory == iTypewriter){
    if(IsPlayerAbi)
    {
     
      cAbi.Say("Nah, Paul would loose his spaghetti if he knew I was actually USING this thing!");
    } else {
      StartCutscene(eSkipESCOrRightButton);
      cPaul.FaceCharacter(cAbi, eBlock);
      cPaul.Say("Abi.");
      cAbi.FaceCharacter(cPaul, eBlock);
      WaitMouseKey(20);
      cPaul.Say("I'm going to allow you to hold onto my typewriter for a while.");
      cPaul.Say("Please don't use it!");
      cPaul.Say("It's the only expensive thing I own.");
      cAbi.awkward();
      cAbi.Say("Yeah sure, I'll carry your heavy crap around, no worries.");
      cAbi.cool();
      cPaul.LoseInventory(iTypewriter);
      cAbi.AddInventory(iTypewriter);
      EndCutscene();
    } 
  } else if (player.ActiveInventory == iBeeperAbi)
    {
      if(IsPlayerAbi)
      {
        showAbisBeeper();
      } else {
        StartCutscene(eSkipESCOnly);
        cPaul.FaceCharacter(cAbi, eBlock);
        cPaul.Say("Hey Abi!");
        cAbi.FaceCharacter(cPaul, eBlock);
        cAbi.Say("Yip?");
        cPaul.Say("Here's your beeper back!");
        cAbi.Say("Oh yeah, I forgot you had that...");       
        EndCutscene();
      }
    } else if (player.ActiveInventory == iToiletPaper)
    {
      player.Say("I don't need to wipe my ass right now.");
      if(cAbi.Room == cPaul.Room)
      {
        cPaul.Say("Huh?");
      } else if (cHamish.Room == cAbi.Room)
      {
        cHamish.Say("Uh...");
        cHamish.Say("Pardon?");
      }
    } else if (player.ActiveInventory == iMug)
    {
      player.Say("That mug is empty.");
    } else if (player.ActiveInventory == iCoffeeBlack)
    {
      cAbi.eatFood(iCoffeeBlack, 0, 1, 2, iMug);      
    } else if (player.ActiveInventory == iCoffeeLatte)
    {
      cAbi.eatFood(iCoffeeLatte, 1, 2, 7, iMug);
    } else if (player.ActiveInventory == iMilk)
    {
      player.Say("I'm not going to drink the milk right out of the carton.");
      player.Say("What am I, an animal?");
    } else if (player.ActiveInventory == iMugMilk)
    {
      cAbi.eatFood(iMugMilk, 1, 1, 5, iMug);
    }
    
  
    break;
  }
  verbUsed = 0;
  
  
}

function char_Ghost_interact()
{
switch (verbUsed)
  {
    case 0: //walk
      player.Walk(cGhostl.x, cGhostl.y+10);
    break;
    case 1://look
    player.FaceCharacter(cGhostl);
      if(IsPlayerAbi){    
        player.Say("Looks like Paul is chilling out in the next room.");
      } else {
        player.Say("Abi is standing around in the next room,");
        cPaul.angry();
        player.FaceDirection(eDirectionDown);
        player.Say("Staring into space like a weirdo...");
        cPaul.cool();
      }
    break;
    case 2://use
    
    break;
    case 3://talk
      player.FaceCharacter(cGhostl);
      if(IsPlayerAbi){
        StartCutscene(eSkipESCOrRightButton);
        player.Say("Paul.");
        WaitMouseKey(50);
        player.Say("PAUL!!");
        WaitMouseKey(40);
        cGhostl.Say("What?");
        EndCutscene();
      } else {
        StartCutscene(eSkipESCOrRightButton);
        player.Say("Abi!");
        WaitMouseKey(30);
        player.FaceDirection(eDirectionDown);
        player.Say("I don't think she can hear me...");
        EndCutscene();
      }
    break;
    case 4://move
      tooFar();
    break;
    case 5://fourletters
      fuckAnyone();
    break;
    case 6://take
      cantTake();
    break;
    case 7://inv
      wontWork();
    break;
  }
  verbUsed = 0;  
}

function char_Fly_interact()
{
switch (verbUsed)
  {
    case 0: //walk
 
    break;
    case 1://look
      player.FaceCharacter(cFlies);
      if(IsPlayerAbi)
      {
        player.Say("That little fly is pretty annoying!");
      } else {  
        cPaul.angry();
        player.Say("Pesky Fly!");
        cPaul.cool();
      }
    break;
    case 2://use
      noUsing();
    break;
    case 3://talk
      noTalking();
    break;
    case 4://move
      noMoving();
    break;
    case 5://fourletters
      fuckAnyone();
    break;
    case 6://take
      lookAbiPaul("I can't get it!","It's too fast!");
    break;
    case 7://inv
      wontWork();
    break;
  }
  verbUsed = 0;
  
}

function char_NPCpaul_interact()
{
switch (verbUsed)
{
  case 0: //walk
    player.Walk(245, 151);
  break;
  case 1://look
    //conditions on the 4th cutscene eg
    if(cutScenes[4] == 0)
    {
      cAbi.Say("Looks like Paul is still asleep!");
    } else if (cutScenes[4] == 1)
    {
      cAbi.Say("Paul's been pretty depressed since G-Man got pulled into the Einstein hole.");
    }
    //and so on...
  break;
  case 2://use
    noUsing();
  break;
  case 3://talk
    //goto dialogue for paul in bed still
    noTalking();
  break;
  case 4://move
    //try pushing him?
    noMoving();
  break;
  case 5://fourletters
    fuckAnyone(2, false);
  break;
  case 6://take
    cantTake();
  break;
  case 7://inv
    wontWork();
  break;
}
verbUsed = 0;  
}

function char_John_interact()
{
  cJohn.addHealth(10);

}

int hamishTalkCounter = 0;
function char_Hamish_interact()
{
  switch (verbUsed)
{
  case 0: //walk
    player.Walk(245, 151);
  break;
  case 1://look
    //conditions , what room is he in?
    player.FaceCharacter(cHamish);
    sayToIt("It's Hamish, the IT guy.", "Looks like some computer nerd guy.");
    cHamish.Say("That's HEAD of the IT department.");
  break;
  case 2://use
    noUsing();
  break;
  case 3://talk
    //goto dialogue for Hamish. he doesn't turn around right away.
    player.FaceCharacter(cHamish);
    sayToIt("Hey Hamish!", "Hey, bro!");
    if(hamishTalkCounter==0)
    {      
      cHamish.Say("Don't talk to me before I've had my coffee!");
      hamishTalkCounter++;
      if(Game.DoOnceOnly("coffeeObjective"))
      {
        addObjective("Get Hamish a coffee.");
      }
    } else if (hamishTalkCounter ==1)
    {
      cHamish.Say("No.");
      hamishTalkCounter++;
    } else if (hamishTalkCounter == 2)
    {
      hamishTalkCounter = 0;
      if(hamishFacingScreen)
      {
        hamishTurn();
      }
      cHamish.Say("Sorry, who are you again?");
      //goto first Hamish Dialogue
    }
  break;
  case 4://move
    //try pushing him?
    noMoving();
  break;
  case 5://fourletters
  //(2, false);
    //opens up a dialogue, only in the office or toilet rooms
    hamishTurn();
  break;
  case 6://take
    cantTake();
  break;
  case 7://inv
    StartCutscene(eSkipESCOnly);
    player.FaceCharacter(cHamish);
    if(player.ActiveInventory == iKeyCard)
    {
      sayToIt("Hey Hamish!","Hey bro!");
      sayToIt("Want the keycard back?", "Check out this key-card!");
      cHamish.Say("How did you get this!?");
    } else if (player.ActiveInventory == iPaulsCard || player.ActiveInventory == iAbiCard)
    {
      sayToIt("I'm not giving Hamish any money.",
                  "I reckon he gets paid enough doing whatever it is he does.");
      cHamish.Say("Righto, mate.");
    } else if (player.ActiveInventory == iToiletPaper)
    {
      lookAbiPaul("Hey Hamish!","Hey bro!");
      sayToIt("How about some toilet paper?","Need some toilet roll?");
      cHamish.Say("Ha, ha. Very funny.");
    } else if (player.ActiveInventory == iMug)
    {
      sayToIt("Hey Hamish!","Hey bro!");
      sayToIt("Want this mug?","Want this?");
      if(hamishFacingScreen)
      {
        hamishTurn();
      }
      cHamish.Say("What?");
      cHamish.Say("No, of course I don't!");
      hamishTurn();
    } else if (player.ActiveInventory == iMugMilk)
    {
      sayToIt("Hey Hamish!","Hey bro!");
      sayToIt("How about a cup of milk?","Want some milk?");
      cHamish.Say("No, I'm lactose intolerant.");
      cHamish.Say("If I were to drink that...");
      if(hamishFacingScreen)
      {
        hamishTurn();
      }
      cHamish.Say("There would be consequences.");
        hamishTurn();
      
    } else if (player.ActiveInventory == iCoffeeLatte)
    {
      sayToIt("Hey Hamish!","Hey bro!");
      sayToIt("How about a cup of coffee?", "Want some coffee?");
      cHamish.Say("Oh yeah?");
        if(hamishFacingScreen)
      {
        hamishTurn();
      }
      cHamish.Say("Oh, there's milk in there.");
      cHamish.Say("Actually, I'm lactose intolerant.");
      cHamish.Say("So, no thanks!");
      hamishTurn();
      
    } else if (player.ActiveInventory == iCoffeeBlack)
    {
      sayToIt("Hey Hamish!","Hey bro!");
      sayToIt("How about a cup of coffee?", "Want some coffee?");
      cHamish.Say("Oh yeah?"); 
        if(hamishFacingScreen)
      {
        hamishTurn();
      }
      cHamish.Say("Thanks.");
      player.LoseInventory(iCoffeeBlack);
      removeObjective("Get Hamish a coffee.");
      //hamish drinks coffee
    } else if(player.ActiveInventory == iMilk){
       sayToIt("Hamish!","Hey bro!");
      sayToIt("Milk?", "Want some milk?");
      cHamish.Say("Ah-");
      cHamish.Say("I'm lactose intolerant.");
      cHamish.Say("If I drank that milk...");
        if(hamishFacingScreen)
      {
        hamishTurn();
      }
      cHamish.Say("There would be consequences.");      
      hamishTurn();
      cHamish.Say("Yep."); 
    } else {
      String toSay;
      if(IsPlayerAbi)
      {
        toSay = String.Format("I'm not giving Hamish %s!",player.ActiveInventory.Name);
       
      } else {
        toSay = String.Format("I'm not giving that guy %s!",player.ActiveInventory.Name);
      }
        sayToIt(toSay, toSay);
        cHamish.Say("Thanks, I wouldn't want it anyway.");
        sayToIt("I'm not offering it.","Well you can't have it.");
        cHamish.Say("I don't care.");
    }    
    EndCutscene();
  break;
}
verbUsed = 0; 
}