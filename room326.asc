// room script file
function paulSpeak(String paulSaid,  int width)
{
  
  int xPos = (360 - width)/ 2;
  cPaulWideShot.Loop = 0;
  cPaulWideShot.SayAtSync(xPos, 100, width, paulSaid);  
   
}

function abiSpeak(String abiSays)
{
   cAbiCSide.SayAtSync(45, 23, 140, abiSays);
}

function room_Load()
{
  cPaulWideShot.ChangeRoom(326, 195, 167);

  if(cutSceneShot == 12)
  {
    SetBackgroundFrame(0);
    oAbiWalk.SetView(227, 0, 0);
  } else {
    SetBackgroundFrame(1);
    oAbiWalk.Visible = false;
  }
  
  if(cutSceneShot == 42)
  {
    cAbiCSide.ChangeRoom(eCSR_hallEmpty);
    oAngryAbi.Visible = true;
    oSneer.SetView(229, 9, 0);
    oSneer.Visible = true;
  }
  

  
  
}




function shot12()
{
  oAbiWalk.Animate(0,7, eRepeat, eNoBlock, eForwards);
  oAbiWalk.TweenX(1.0, 355, eEaseLinearTween, eNoBlockTween);
  paulSpeak("&10 Comforting little lies we tell ourselves", 120);
  Cutscenes.nextCutSceneShot();

}

function shot20()
{
  oAngryAbi.Visible = true;
  oAbiNo.SetView(229, 8, 0);
  oPaulNo.SetView(222, 3, 0);
  oAbiNo.Visible = true;
  oPaulNo.Visible = true;
  cAbi.place(113, 122);
  cAbi.SayBackground("NO!");
  cPaulWideShot.SayBackground("NO!");
  oAbiNo.Animate(8, 3, eOnce, eNoBlock);
  oPaulNo.Animate(3, 3, eOnce, eNoBlock);
  aNo.Play(eAudioPriorityHigh);
  WaitSeconds(0.9);
  Cutscenes.nextCutSceneShot();
 
}

function shot42()
{
  oSneer.Animate(9, 3, eOnce, eNoBlock, eForwards);
  
  oLandyLeave.SetView(223, 3, 0);
  oLandyLeave.Visible = true;
  oLandyLeave.Animate(3, 8, eRepeat, eNoBlock, eForwards);
  oLandyLeave.TweenX(1.0, 348, eEaseLinearTween, eNoBlockTween);
  cLandLord.SayAt(260, 60, 100, "&30 Ta-ta, kids!");
  WaitSeconds(1.0);
  
  aFrontDoorSlammedReal.Play(eAudioPriorityHigh);
  WaitSeconds(0.5);
  oAbiBlink.Visible = true;
  WaitSeconds(0.2);
  oAbiBlink.Visible = false;
  abiSpeak("&49 What does he mean by that?");
  paulSpeak("&26 He's gonna turn that poor horse's front legs into glue!", 120);
  
  Cutscenes.nextCutSceneShot();
}
function room_AfterFadeIn()
{
    if(cutSceneShot == 12)
  {
      shot12();
  } else if (cutSceneShot == 20)
  {
    shot20();
  } else if (cutSceneShot == 42)
  {
    
    shot42();
  }
    
  //
}
