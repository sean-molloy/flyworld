// room script file

function findCharAfterCHCH()
{
  Game.Camera.SetSize(360, 200);
  switch(findPlayer())
  {
    case 1:
      Game.Camera.SetAt(68, 0);
    break;
    case 2:
      Game.Camera.SetAt(411, 0);
    break;
    case 3:
      Game.Camera.SetAt(752, 0);
    break;
    case 4:
      Game.Camera.SetAt(1092, 0);
    break;
    case 5:
      Game.Camera.SetAt(1435, 0);
    break;
    case 6:
      Game.Camera.SetAt(1777, 0);
    break;
    default:
      Game.Camera.SetAt(1777, 0);
    break;     
  }
}

function room_Load()
{ 
 changePlayerLocaleOnRoomEnter();
  player.SetWalkSpeed(3, 3);
  resumeMusicAfterCHCH(aOutside);
  if(characterChange)
  {
    
   
   
    findCharAfterCHCH();
  } else {
    Game.Camera.SetSize(36, 20);
    Game.Camera.SetAt(player.x - mapScreenPosX, player.y - mapScreenPosY);
  }
}

function room_AfterFadeIn()
{
 //Game.Camera.AutoTracking = true;
 if(characterChange)
 {
   characterChange = false;
 } else {
  Game.Camera.TweenSize(1.0, 360, 200, eEaseInOutCubicTween, eNoBlockTween);
  Game.Camera.TweenPosition(1.0, 1091, 0, eEaseInOutBackTween);  
 }
}

function theFlat_Look()
{ 
  
  player.Say("18 Copeland Street.");
  player.Say("It's my flat!");
}
/*

  player.StopMoving();
  SetNextScreenTransition(eTransitionInstant);
  Game.Camera.AutoTracking = true;  
  Game.Camera.TweenSize(0.9, 36, 20, eEaseInOutBackTween);
  Game.Camera.TweenPosition(0.2, 1278, 157, eEaseInQuartTween, eBlockTween);
  player.ChangeRoom(7, 110, 496);
  //Display("go to the ext flat room");
*/

int wasHere = 0;

function region1_WalksOnto()
{
  if(wasHere == 2)
  {
    Game.Camera.TweenX(1.5, 68, eEaseInOutSineTween);
  }
  wasHere = 0;
}

function region1_WalksOff()
{
  wasHere = 1;
}

function region2_WalksOnto()
{
  if(wasHere == 1)
  {
    Game.Camera.TweenX(1.5, 411, eEaseInOutSineTween);
  }
  wasHere = 0;
}

function region2_WalksOff()
{
  wasHere = 2;
}

function region3_WalksOnto()
{
  if(wasHere == 4)
  {
    Game.Camera.TweenX(1.5, 411, eEaseInOutSineTween);
  }
  wasHere = 0;
}

function region3_WalksOff()
{
  wasHere = 3;
}

function region4_WalksOnto()
{
  if( wasHere == 3 )
  {
    Game.Camera.TweenX(1.5, 752, eEaseInOutSineTween);
  }
  wasHere = 0;
}

function region4_WalksOff()
{
  
  wasHere = 4;
}

function region5_WalksOnto()
{
  if(wasHere == 6)
  {
    Game.Camera.TweenX(1.5, 752, eEaseInOutSineTween);
  }
  wasHere = 0;
}

function region5_WalksOff()
{
  wasHere = 5;
}

function region6_WalksOnto()
{
  if(wasHere == 5)
  {
    Game.Camera.TweenX(1.5, 1092, eEaseInOutSineTween);
  }
  wasHere = 0;
}

function region6_WalksOff()
{
  wasHere = 6;
}

function region7_WalksOnto()
{
  if(wasHere == 8)
  {
    Game.Camera.TweenX(1.5, 1092, eEaseInOutSineTween);
  }
  wasHere = 0;
}

function region7_WalksOff()
{
  wasHere = 7;
}

function region8_WalksOnto()
{
  if( wasHere == 7)
  {
    Game.Camera.TweenX(1.5, 1435, eEaseInOutSineTween);
  }
  wasHere = 0;
}

function region8_WalksOff()
{
  wasHere = 8;
}

function region9_WalksOnto()
{
  if(wasHere == 10)
  {
  Game.Camera.TweenX(1.5, 1435, eEaseInOutSineTween);
  }
  wasHere = 0;
}

function region9_WalksOff()
{
  wasHere = 9;
}

function region10_WalksOnto()
{
  if(wasHere == 9)
  {
  Game.Camera.TweenX(1.5, 1777, eEaseInOutSineTween);  
  }
  wasHere = 0;
}

function region10_WalksOff()
{
  wasHere = 10;
}
