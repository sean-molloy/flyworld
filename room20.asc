// room script file


function parallaxSky(int toPos, float timing)
{
  int newPos = oDaySky.X + toPos;
  oDaySky.TweenX(timing, newPos, eEaseInOutSineTween, eNoBlockTween);
  oSunsetSky.TweenX(timing, newPos, eEaseInOutSineTween, eNoBlockTween);
  oNightSky.TweenX(timing, newPos, eEaseInOutSineTween, eNoBlockTween);
}

function resetSky()
{
  int orig = 61;
  oDaySky.X = orig;
  oSunsetSky.X = orig;
  oNightSky.X = orig;
}

function room_AfterFadeIn()
{
  Game.Camera.TweenX(2.0, 0, eEaseInOutSineTween, eNoBlockTween);
  parallaxSky(-261, 2.0);
  player.Walk(player.x - 30, player.y - 3, eBlock);
  player.FaceDirection(eDirectionUpLeft);
  WaitSeconds(1.5);
  player.Say("Sorry for interrupting...");
  Game.Camera.TweenX(1.0, 261, eEaseInOutSineTween, eNoBlockTween);
  parallaxSky(261, 1.0);  
  player.Walk(302, 178, eBlock);
  player.ChangeRoom(eRooms_Omni_CorridorLeft, player.x - 261, player.y);
}

function room_Load()
{
  resetSky();
  Time.setSky(oSunsetSky, oNightSky, oDaySky);
  Game.Camera.X = 261;
}


function room_RepExec()
{
  Time.changeSky(oDaySky, oSunsetSky, oNightSky);
  John.johnArrive();
  John.johnDepart();
  Employees_Omni.staffArrive();
  Employees_Omni.staffDepart();
  
  cJohn.moveInOtherRoom(eRooms_Omni_CorridorLeft, 454, 
        eRooms_Omni_HR, 592, eRooms_Omni_CallCentre, 10, 10, 321, 171);
  cJohn.moveInOtherRoom(eRooms_Omni_CallCentre, 330, 
      eRooms_Omni_CorridorLeft, 1000, eRooms_Omni_CorridorRight, 594, 171, 273, 169);  
  cJohn.moveInOtherRoom(eRooms_Omni_CorridorRight, 281, 
        eRooms_Omni_CallCentre, 781, eRooms_SpookyZone, 1006, 171, 10, 10);      
  cJohn.moveInOtherRoom(eRooms_Omni_CallCentre, 330, 
        eRooms_Omni_CorridorLeft, 1000, eRooms_Omni_CorridorRight, 595, 171, 270, 171); 
          
  Employees_Omni.MoveInCorridor(cBob);
  Employees_Omni.MoveInCorridor(cFred);
  Employees_Omni.MoveInCorridor(cSally);  
  Employees_Omni.MoveInCorridor(cMatt);  
  Employees_Omni.MoveInCorridor(cFrank);  
  Employees_Omni.MoveInCorridor(cDennis);  
  Employees_Omni.MoveInCorridor(cKirsty);  
  Employees_Omni.MoveInCorridor(cGina);  
  Employees_Omni.MoveInCorridor(cClaudia);  
  Employees_Omni.MoveInCorridor(cFiona);  
  Employees_Omni.MoveInCorridor(cMia);  
  Employees_Omni.MoveInCorridor(cHelen);  
  Employees_Omni.MoveInCorridor(cRachel);  
  Employees_Omni.MoveInCorridor(cSeema);  
  Employees_Omni.MoveInCorridor(cAria);  
  Employees_Omni.MoveInCorridor(cAimee);  
  Employees_Omni.MoveInCorridor(cStuart);  
  
  Employees_Omni.MoveInCallCenterFromAway(cBob);
  Employees_Omni.MoveInCallCenterFromAway(cFred);
  Employees_Omni.MoveInCallCenterFromAway(cSally);   
  Employees_Omni.MoveInCallCenterFromAway(cMatt);   
  Employees_Omni.MoveInCallCenterFromAway(cFrank);   
  Employees_Omni.MoveInCallCenterFromAway(cDennis);   
  Employees_Omni.MoveInCallCenterFromAway(cKirsty);   
  Employees_Omni.MoveInCallCenterFromAway(cGina);   
  Employees_Omni.MoveInCallCenterFromAway(cClaudia);   
  Employees_Omni.MoveInCallCenterFromAway(cFiona);   
  Employees_Omni.MoveInCallCenterFromAway(cMia);   
  Employees_Omni.MoveInCallCenterFromAway(cHelen);   
  Employees_Omni.MoveInCallCenterFromAway(cSeema);   
  Employees_Omni.MoveInCallCenterFromAway(cAria);   
  Employees_Omni.MoveInCallCenterFromAway(cAimee);   
  Employees_Omni.MoveInCallCenterFromAway(cStuart);   
}
